{% extends "feed/templates/base.html" %}
{% block content %}
{% for item in feed %}
<div class="panel panel-default" style="margin-left:50px;margin-right:50px;margin-top:5px">
<div class="panel-heading">
	 <h3 class="panel-title"> 
	 <button onclick="myFunction(event)">+</button>
	 <a href="{{ item.feed.url }}">{{ item.feed.title|safe }}</a>:
         <a href="{{ item.get_url }}">{{item.get_title|safe }}</a></h3>
	 </div>
<div class="panel-body" style="max-height:300px;overflow:hidden;margin-right:15px;margin-bottom: 15px">
{{ item.html|safe }}
</div>
<div class="panel-footer">
{% if login %}
<form action="" method="post" style="display: inline-block;">
{% if item.liked %}
<input type="hidden" id="liked" name="like" value="0">
{% else %}
<input type="hidden" name="like" value="1">
{% endif %}
<input type="hidden" name="action" value="like">
{% csrf_token %}
<button type="submit" class="btn btn-default btn-sm" onclick="return likeLink(event)">
<input type="hidden" name="link" value="{{ item.link }}">
{% if item.liked %}
  <span class="glyphicon glyphicon-pushpin" style="color:orange" aria-hidden="true"></span> Pin
{% else %}
  <span class="glyphicon glyphicon-pushpin" aria-hidden="true"></span> Pin
{% endif %}
</button>
</form>
{% if item.is_editable %}
<form action="{{ item.get_url }}?" method="post" style="display: inline-block;">
<input type="hidden" name="action" value="edit">
{% csrf_token %}
<button type="button" class="btn btn-primary btn-sm" onclick="return editor.editPost(event)">
<input type="hidden" name="link" value="{{ item.link }}">
  <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
</button>
</form>
{% endif %}
{% endif %}
{{ item.published }}
</div>
</div>
{% endfor %}
{% if item_overflow.overflow %}
<div id="overflow" class="panel panel-default" style="margin-left:50px;margin-right:50px;margin-top:5px">
<div class="panel-heading">
<a id="nextUrl" href="?timestamp={{ item_overflow.last_timestamp }}&max_items={{ item_overflow.max_items }}{{ args }}" onclick="return loadMoreLink(event)">Load more...</a>
</div>
</div>
{% endif %}
{% endblock %}
